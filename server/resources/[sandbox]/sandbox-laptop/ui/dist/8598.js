"use strict";(self.webpackChunksandbox_laptop=self.webpackChunksandbox_laptop||[]).push([[8598,8835],{11084:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(86887),o=n(64180),a=n(55429),l=n(34164),i=n(7413),u=n(10016),c=n(20111),s=n(74502),f=n(64186),m=n(23805),p=n(52679),d=n(95478);function v(e){return(0,d.Ay)("MuiInputAdornment",e)}const y=(0,p.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b,h=n(29115),g=n(64922);const E=["children","className","component","disablePointerEvents","disableTypography","position","variant"],S=(0,m.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,u.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(({theme:e,ownerState:t})=>(0,o.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${y.positionStart}&:not(.${y.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),A=a.forwardRef(function(e,t){const n=(0,h.b)({props:e,name:"MuiInputAdornment"}),{children:m,className:p,component:d="div",disablePointerEvents:y=!1,disableTypography:A=!1,position:w,variant:j}=n,O=(0,r.A)(n,E),P=(0,f.A)()||{};let k=j;j&&P.variant,P&&!k&&(k=P.variant);const x=(0,o.A)({},n,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:y,position:w,variant:k}),D=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:a,variant:l}=e,c={root:["root",n&&"disablePointerEvents",o&&`position${(0,u.A)(o)}`,l,r&&"hiddenLabel",a&&`size${(0,u.A)(a)}`]};return(0,i.A)(c,v,t)})(x);return(0,g.jsx)(s.A.Provider,{value:null,children:(0,g.jsx)(S,(0,o.A)({as:d,ownerState:x,className:(0,l.A)(D.root,p),ref:t},O,{children:"string"!=typeof m||A?(0,g.jsxs)(a.Fragment,{children:["start"===w?b||(b=(0,g.jsx)("span",{className:"notranslate",children:"â€‹"})):null,m]}):(0,g.jsx)(c.A,{color:"text.secondary",children:m})}))})})},38598:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(55429),o=n(15647),a=n(1310),l=n(22785),i=n(90863),u=n(11084),c=n(20500),s=n(29506),f=n(42262),m=n(72701),p=n(72857),d=n(84529),v=n(59530),y=n(29893),b=n(61541),h=n(18875),g=n(45877),E=n(81971),S=n(78835);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,c=Object.create(u.prototype);return k(c,"_invoke",function(n,r,o){var a,i,u,c=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,u=e,m.n=n,l}};function p(n,r){for(i=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,a=s[t],p=m.p,d=a[2];n>3?(o=d===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,m.v=r,m.n=a[1]):p<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,m.n=d,i=0))}if(o||n>1)return l;throw f=!0,r}return function(o,s,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,d),i=s,u=d;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(m.n=-1),p(i,u)):m.n=u:m.v=u);try{if(c=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=m.n<0)?u:n.call(r,m))!==l)break}catch(t){a=e,i=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,a),!0),c}var l={};function i(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(k(t={},r,function(){return this}),t),f=c.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,k(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,k(f,"constructor",c),k(c,"constructor",u),u.displayName="GeneratorFunction",k(c,o,"GeneratorFunction"),k(f),k(f,o,"Generator"),k(f,r,function(){return this}),k(f,"toString",function(){return"[object Generator]"}),(P=function(){return{w:a,m}})()}function k(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}k=function(e,t,n,r){function a(t,n){k(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},k(e,t,n,r)}function x(e,t,n,r,o,a,l){try{var i=e[a](l),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){x(a,r,o,l,i,"next",e)}function i(e){x(a,r,o,l,i,"throw",e)}l(void 0)})}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var T=(0,p.A)(function(e){return{wrapper:{padding:"20px 10px 20px 20px",height:"100%"},search:{},results:{},noResults:{margin:"15% 0",textAlign:"center",fontSize:22,color:e.palette.text.main},items:{maxHeight:"95%",height:"95%",overflowY:"auto",overflowX:"hidden"},searchButton:{height:"90%"}}});const L=function(){var e,t=T(),n=(0,o.wA)(),p=(0,y.MW)(),A=(0,o.d4)(function(e){return e.data.data.pdmSearch})||"",w=C((0,r.useState)(1),2),O=w[0],k=w[1],x=C((0,r.useState)(1),2),I=x[0],L=x[1],M=C((0,r.useState)(!1),2),N=M[0],F=M[1],R=C((0,r.useState)(!1),2),_=R[0],W=R[1],$=C((0,r.useState)(Array()),2),z=$[0],G=$[1],H=C((0,r.useState)(Array()),2),q=H[0],B=H[1],U=C((0,r.useState)("all"),2),Y=U[0],V=U[1],X=C((0,r.useState)(!1),2),J=X[0],K=X[1],Q=C((0,r.useState)(null),2),Z=Q[0],ee=Q[1];(0,r.useEffect)(function(){if(null!=z&&z.stock){var e=(null!=A?A:"").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");B(null==z?void 0:z.stock.filter(function(e){var t;return"all"==Y||Y==(null==e||null===(t=e.data)||void 0===t?void 0:t.category)}).filter(function(t){return new RegExp(e,"i").test("".concat(t.data.make," ").concat(t.data.model))})),L(1)}else B(Array())},[z,Y,A]),(0,r.useEffect)(function(){k(Math.ceil((null==q?void 0:q.length)/6))},[q]);var te=(0,r.useMemo)(function(){return(0,d.throttle)(function(){var e=D(P().m(function e(t){var n,r;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:return F(!0),L(1),e.p=1,e.n=2,b.A.send("PDMGetStock",{});case 2:return e.n=3,e.v.json();case 3:if(!(n=e.v)){e.n=4;break}G(n),e.n=5;break;case 4:throw n;case 5:F(!1),e.n=7;break;case 6:e.p=6,r=e.v,console.log(r),W(!0),F(!1);case 7:return e.a(2)}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),3e3)},[]);(0,r.useEffect)(function(){te()},[]);var ne=function(){var e=D(P().m(function e(t){var n,r,o,a;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:return K(!1),F(!0),e.p=1,e.n=2,b.A.send("PDMStartSale",j(j({},t),{},{vehicle:Z.vehicle}));case 2:return e.n=3,e.v.json();case 3:(n=e.v)&&n.success?(p(null!==(r=null==n?void 0:n.message)&&void 0!==r?r:"Success"),ee(null),te()):p(null!==(o=null==n?void 0:n.message)&&void 0!==o?o:"Error Initiating Sale"),F(!1),K(!1),e.n=5;break;case 4:e.p=4,a=e.v,console.log(a),p("Error Initiating Sale"),F(!1),K(!1);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:t.wrapper},r.createElement("div",{className:t.search},r.createElement("form",{onSubmitCapture:function(e){e.preventDefault()}},r.createElement(a.Ay,{container:!0,spacing:1},r.createElement(a.Ay,{item:!0,xs:3},r.createElement(l.A,{select:!0,fullWidth:!0,label:"Category",name:"type",className:t.editorField,value:Y,onChange:function(e){return V(e.target.value)}},E.vehicleCategories.map(function(e){return r.createElement(i.A,{key:e.value,value:e.value},e.label)}))),r.createElement(a.Ay,{item:!0,xs:7},r.createElement(l.A,{fullWidth:!0,variant:"outlined",name:"search",value:A,onChange:function(e){n({type:"SET_DATA",payload:{type:"pdmSearch",data:e.target.value}})},error:_,helperText:_?"Error Performing Search":null,label:"Search",InputProps:{endAdornment:r.createElement(u.A,{position:"end"},""!=A&&r.createElement(c.A,{type:"button",onClick:function(){n({type:"SET_DATA",payload:{type:"pdmSearch",data:null}}),G(Array())}},r.createElement(v.g,{icon:["fas","xmark"]})),r.createElement(c.A,{type:"submit",disabled:N},r.createElement(v.g,{icon:["fas","magnifying-glass"]})))}})),r.createElement(a.Ay,{item:!0,xs:2},r.createElement(s.A,{variant:"outlined",fullWidth:!0,style:{height:"100%"},onClick:function(){te()}},"Refresh"))))),r.createElement("div",{className:t.results},N?r.createElement(h.aH,{text:"Loading"}):(null==z||null===(e=z.stock)||void 0===e?void 0:e.length)>0?r.createElement(r.Fragment,null,r.createElement(f.A,{className:t.items},q.sort(function(e,t){var n,r;return(null===(n=e.data)||void 0===n?void 0:n.price)-(null===(r=t.data)||void 0===r?void 0:r.price)}).slice(6*(I-1),6*I).map(function(e){return r.createElement(g.default,{key:e._id,vehicle:e,dealerData:z.dealerData,onClick:function(){K(!0),ee(e)}})})),O>1&&r.createElement(m.A,{variant:"outlined",shape:"rounded",color:"primary",page:I,count:O,onChange:function(e,t){L(t)}})):r.createElement("p",{className:t.noResults},"No Results Found")),r.createElement(S.default,{open:J,vehicle:Z,onClose:function(){return K(!1)},onSubmit:ne,dealerData:z.dealerData,interest:z.interest}))}},78835:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(55429),o=n(22785),a=n(90863),l=n(75937),i=n(72857),u=n(81074),c=n(18875);n(15647);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=(0,i.A)(function(e){return{editorField:{marginBottom:10}}}),b=[{value:"full",label:"Cash"},{value:"loan",label:"Loan"}];const h=function(e){var t,n,i,s,f,v,h=e.open,g=e.vehicle,E=e.onSubmit,S=e.interest,A=void 0===S?15:S,w=e.dealerData,j=e.onClose,O=y(),P={type:"loan",SID:"",weeks:8,downpayment:50},k=d((0,r.useState)(m({},P)),2),x=k[0],D=k[1],C=function(e){D(m(m({},x),{},p({},e.target.name,e.target.value)))},I=1+(null==w?void 0:w.profitPercentage)/100,T=(null==g||null===(t=g.data)||void 0===t?void 0:t.price)*I,L=(T-(null==g||null===(n=g.data)||void 0===n?void 0:n.price))*((null==w?void 0:w.commission)/100),M=T*(x.downpayment/100),N=(T-M)*(1+A/100),F=N/x.weeks;return r.createElement(c.aF,{open:h,maxWidth:"md",title:"Sell ".concat(null==g||null===(i=g.data)||void 0===i?void 0:i.make," ").concat(null==g||null===(s=g.data)||void 0===s?void 0:s.model),submitLang:"Confirm Sale",onSubmit:function(e){e.preventDefault(),E(x),D(m({},P))},onClose:j},r.createElement("p",null,"Vehicle: ","".concat(null==g||null===(f=g.data)||void 0===f?void 0:f.make," ").concat(null==g||null===(v=g.data)||void 0===v?void 0:v.model)),"loan"==x.type?r.createElement(r.Fragment,null,r.createElement("p",null,"Loan Interest Rate: ",A,"%"),r.createElement("p",null,"Downpayment: ",u.v3.format(Math.ceil(M))," (",x.downpayment,"%)"),r.createElement("p",null,"Remaining Cost (Interest Applied): ",u.v3.format(Math.ceil(N))),r.createElement("p",null,"Loan Length in Weeks: ",x.weeks),r.createElement("p",null,"Weekly Payment: ",u.v3.format(Math.ceil(F))),r.createElement("p",null,"Your Earned Commission: ",u.v3.format(Math.ceil(L)))):r.createElement(r.Fragment,null,r.createElement("p",null,"Cost: ",u.v3.format(Math.ceil(T)))),r.createElement("br",null),r.createElement(o.A,{required:!0,select:!0,fullWidth:!0,name:"type",label:"Type",className:O.editorField,value:x.type,onChange:C},b.map(function(e){return r.createElement(a.A,{key:e.value,value:e.value},e.label)})),"loan"==x.type&&r.createElement(r.Fragment,null,r.createElement("p",null,"Downpayment ",x.downpayment,"% (",u.v3.format(Math.ceil(M)),")"),r.createElement(l.Ay,{size:"small",value:x.downpayment,name:"downpayment",min:25,max:80,step:5,valueLabelDisplay:"auto",onChange:C}),r.createElement("p",null,"Loan Length (",x.weeks," Weeks)"),r.createElement(l.Ay,{size:"small",value:x.weeks,name:"weeks",min:6,max:16,step:1,valueLabelDisplay:"auto",onChange:C})),r.createElement(o.A,{required:!0,fullWidth:!0,name:"SID",label:"Customer State ID",className:O.editorField,value:x.SID,onChange:C}))}}}]);