"use strict";(self.webpackChunksandbox_laptop=self.webpackChunksandbox_laptop||[]).push([[5106],{32725:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(55429),a=r(15647),i=r(1310),o=r(52094),l=r(30975),c=r(29506),s=r(40279),u=r(70725),d=r(42262),p=r(74268),m=r(72857),f=r(51698),h=r.n(f),v=r(18875),y=r(61541),A=r(29893);function g(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function i(r,n,a,i){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return b(s,"_invoke",function(r,n,a){var i,l,c,s=0,u=a||[],d=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return i=t,l=0,c=e,p.n=r,o}};function m(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,i=u[t],m=p.p,f=i[2];r>3?(a=f===n)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((a=r<2&&m<i[1])?(l=0,p.v=n,p.n=i[1]):m<f&&(a=r<3||i[0]>n||n>f)&&(i[4]=r,i[5]=n,p.n=f,l=0))}if(a||r>1)return o;throw d=!0,n}return function(a,u,f){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,f),l=u,c=f;(t=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(p.n=-1),m(l,c)):p.n=c:p.v=c);try{if(s=2,i){if(l||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);i=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==o)break}catch(t){i=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,i),!0),s}var o={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(b(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,b(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,b(d,"constructor",s),b(s,"constructor",c),c.displayName="GeneratorFunction",b(s,a,"GeneratorFunction"),b(d),b(d,a,"Generator"),b(d,n,function(){return this}),b(d,"toString",function(){return"[object Generator]"}),(g=function(){return{w:i,m:p}})()}function b(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}b=function(e,t,r,n){function i(t,r){b(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},b(e,t,r,n)}function E(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){E(i,n,a,o,l,"next",e)}function l(e){E(i,n,a,o,l,"throw",e)}o(void 0)})}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var L=(0,m.A)(function(e){return{wrapper:{padding:"20px 10px 20px 20px",height:"100%"},notes:{color:e.palette.text.alt,padding:"8px 16px",whiteSpace:"pre-line","& img":{width:"100%",maxWidth:300}},link:{color:e.palette.text.alt,transition:"color ease-in 0.15s","&:hover":{color:e.palette.primary.main}},officerLink:{color:e.palette.text.alt,transition:"color ease-in 0.15s","&:hover":{color:e.palette.primary.main},"&:not(:last-of-type)":{content:'", "',color:e.palette.text.main}}}});const C=function(e){var t,r,m=e.onNav,f=e.data,b=L(),E=((0,a.wA)(),(0,A.Bm)()),S=(0,A.MW)(),C=(0,a.d4)(function(e){return e.data.data.onDuty}),R=x((0,n.useState)(!1),2),T=R[0],k=R[1],I=x((0,n.useState)(!1),2),D=I[0],N=I[1],j=x((0,n.useState)(null),2),_=j[0],O=j[1],P=function(){var e=w(g().m(function e(){var t;return g().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!E("TABLET_MANAGE_RECEIPT",C)){e.n=5;break}return e.p=1,e.n=2,y.A.send("BusinessReceiptDelete",{id:_._id});case 2:return e.n=3,e.v.json();case 3:e.v?(S("Document Deleted"),m("Search/Receipt")):S("Unable to Delete Receipt"),e.n=5;break;case 4:e.p=4,t=e.v,console.log(t),S("Unable to Delete Receipt");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=w(g().m(function e(){var t,r;return g().w(function(e){for(;;)switch(e.p=e.n){case 0:return N(!0),e.p=1,e.n=2,y.A.send("BusinessReceiptView",{id:null==f?void 0:f.id});case 2:return e.n=3,e.v.json();case 3:(t=e.v)?O(t):S("Unable to Load Receipt"),e.n=5;break;case 4:e.p=4,r=e.v,console.log(r),S("Unable to Load Receipt"),k(!0);case 5:N(!1);case 6:return e.a(2)}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)(function(){B()},[]),n.createElement("div",null,D||!_&&!T?n.createElement("div",{className:b.wrapper,style:{position:"relative"}},n.createElement(v.aH,{static:!0,text:"Loading"})):T?n.createElement(i.Ay,{className:b.wrapper,container:!0},n.createElement(i.Ay,{item:!0,xs:12},n.createElement(o.A,{variant:"outlined",severity:"error"},"Invalid Document ID"))):n.createElement(n.Fragment,null,n.createElement(i.Ay,{className:b.wrapper,container:!0,spacing:2},n.createElement(i.Ay,{item:!0,xs:12},n.createElement(l.A,{fullWidth:!0},n.createElement(c.A,{onClick:B,disabled:D},"Refresh"),n.createElement(c.A,{disabled:!function(){return E("TABLET_MANAGE_RECEIPT",C)},onClick:function(){m("Create/Receipt",{id:_._id})}},"Edit Document"),E("TABLET_MANAGE_RECEIPT",C)&&n.createElement(c.A,{onClick:P},"Delete Document"))),n.createElement(i.Ay,{item:!0,xs:12},n.createElement(i.Ay,{container:!0,spacing:2},n.createElement(i.Ay,{item:!0,xs:6},n.createElement(s.A,{primary:n.createElement("span",null,"Created ",n.createElement(h(),{date:_.time,fromNow:!0})),secondary:n.createElement("span",null,"By ","".concat(_.author.First," ").concat(_.author.Last," (").concat(_.author.SID,")")," on ",n.createElement(h(),{date:_.time,format:"LLL"}))})),n.createElement(i.Ay,{item:!0,xs:6},_.lastUpdated&&n.createElement(s.A,{primary:n.createElement("span",null,"Last Updated ",n.createElement(h(),{date:null===(t=_.lastUpdated)||void 0===t?void 0:t.Time,fromNow:!0})),secondary:n.createElement("span",null,"By ","".concat(_.lastUpdated.First," ").concat(_.lastUpdated.Last," (").concat(_.lastUpdated.SID,")")," on ",n.createElement(h(),{date:null===(r=_.lastUpdated)||void 0===r?void 0:r.Time,format:"LLL"}))}))),n.createElement(u.A,{flexItem:!0})),n.createElement(i.Ay,{item:!0,xs:6},n.createElement(d.A,null,n.createElement(p.Ay,null,n.createElement(s.A,{primary:"Receipt Type",secondary:_.type})),n.createElement(p.Ay,null,n.createElement(s.A,{primary:"Customer Name",secondary:_.customerName})),n.createElement(p.Ay,null,n.createElement(s.A,{primary:"Customer Number",secondary:_.customerNumber})),n.createElement(p.Ay,null,n.createElement(s.A,{primary:"Payment Charge",secondary:_.paymentAmount})),n.createElement(p.Ay,null,n.createElement(s.A,{primary:"Payment Paid",secondary:_.paymentPaid})))),n.createElement(i.Ay,{item:!0,xs:6},n.createElement(d.A,null,n.createElement(p.Ay,null,n.createElement(s.A,{primary:"Additional Employees",secondary:_.workers&&_.workers.length>0?n.createElement("span",null,_.workers.map(function(e){return n.createElement("span",{key:"assisting-".concat(e.SID)},"".concat(e.First," ").concat(e.Last," (").concat(e.SID,")"),n.createElement("br",null))})):"No Additional Employees"})),n.createElement(p.Ay,null,n.createElement(s.A,{primary:"Additional Notes"})),n.createElement("div",{className:b.notes},n.createElement(v.Rb,{wrapperClass:b.notes,content:_.notes})))))))}},70725:(e,t,r)=>{r.d(t,{A:()=>y});var n=r(86887),a=r(64180),i=r(55429),o=r(34164),l=r(7413),c=r(3377),s=r(23805),u=r(29115),d=r(72733),p=r(64922);const m=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],f=(0,s.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>(0,a.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,c.X4)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>(0,a.A)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>(0,a.A)({},t.children&&"vertical"!==t.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>(0,a.A)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>(0,a.A)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),h=(0,s.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>(0,a.A)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),v=i.forwardRef(function(e,t){const r=(0,u.b)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:c,className:s,component:v=(c?"div":"hr"),flexItem:y=!1,light:A=!1,orientation:g="horizontal",role:b=("hr"!==v?"separator":void 0),textAlign:E="center",variant:w="fullWidth"}=r,x=(0,n.A)(r,m),S=(0,a.A)({},r,{absolute:i,component:v,flexItem:y,light:A,orientation:g,role:b,textAlign:E,variant:w}),L=(e=>{const{absolute:t,children:r,classes:n,flexItem:a,light:i,orientation:o,textAlign:c,variant:s}=e,u={root:["root",t&&"absolute",s,i&&"light","vertical"===o&&"vertical",a&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===c&&"vertical"!==o&&"textAlignRight","left"===c&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,l.A)(u,d.K,n)})(S);return(0,p.jsx)(f,(0,a.A)({as:v,className:(0,o.A)(L.root,s),role:b,ref:t,ownerState:S},x,{children:c?(0,p.jsx)(h,{className:L.wrapper,ownerState:S,children:c}):null}))});v.muiSkipListHighlight=!0;const y=v},72733:(e,t,r)=>{r.d(t,{A:()=>o,K:()=>i});var n=r(52679),a=r(95478);function i(e){return(0,a.Ay)("MuiDivider",e)}const o=(0,n.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])}}]);