"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[1251],{31251:(n,e,t)=>{t.r(e),t.d(e,{default:()=>E});var l=t(96540),r=t(69733),o=t(47767),a=t(81385),c=t(11641),i=t(62969),u=t(46784),s=t(93300),f=t.n(s),m=t(16783),p=t(32849);function v(n){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},v(n)}function d(){var n,e,t="function"==typeof Symbol?Symbol:{},l=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function o(t,l,r,o){var i=l&&l.prototype instanceof c?l:c,u=Object.create(i.prototype);return b(u,"_invoke",function(t,l,r){var o,c,i,u=0,s=r||[],f=!1,m={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return o=e,c=0,i=n,m.n=t,a}};function p(t,l){for(c=t,i=l,e=0;!f&&u&&!r&&e<s.length;e++){var r,o=s[e],p=m.p,v=o[2];t>3?(r=v===l)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=p&&((r=t<2&&p<o[1])?(c=0,m.v=l,m.n=o[1]):p<v&&(r=t<3||o[0]>l||l>v)&&(o[4]=t,o[5]=l,m.n=v,c=0))}if(r||t>1)return a;throw f=!0,l}return function(r,s,v){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),c=s,i=v;(e=c<2?n:i)||!f;){o||(c?c<3?(c>1&&(m.n=-1),p(c,i)):m.n=i:m.v=i);try{if(u=2,o){if(c||(r="next"),e=o[r]){if(!(e=e.call(o,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=n}else if((e=(f=m.n<0)?i:t.call(l,m))!==a)break}catch(e){o=n,c=1,i=e}finally{u=1}}return{value:e,done:f}}}(t,r,o),!0),u}var a={};function c(){}function i(){}function u(){}e=Object.getPrototypeOf;var s=[][l]?e(e([][l]())):(b(e={},l,function(){return this}),e),f=u.prototype=c.prototype=Object.create(s);function m(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,b(n,r,"GeneratorFunction")),n.prototype=Object.create(f),n}return i.prototype=u,b(f,"constructor",u),b(u,"constructor",i),i.displayName="GeneratorFunction",b(u,r,"GeneratorFunction"),b(f),b(f,r,"Generator"),b(f,l,function(){return this}),b(f,"toString",function(){return"[object Generator]"}),(d=function(){return{w:o,m}})()}function b(n,e,t,l){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}b=function(n,e,t,l){if(e)r?r(n,e,{value:t,enumerable:!l,configurable:!l,writable:!l}):n[e]=t;else{var o=function(e,t){b(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},b(n,e,t,l)}function y(n,e,t,l,r,o,a){try{var c=n[o](a),i=c.value}catch(n){return void t(n)}c.done?e(i):Promise.resolve(i).then(l,r)}function h(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);e&&(l=l.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,l)}return t}function g(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?h(Object(t),!0).forEach(function(e){O(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function O(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=v(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var l=t.call(n,e||"default");if("object"!=v(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==v(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var w=(0,i.A)(function(n){return{call:{display:"flex",borderBottom:"1px solid ".concat(n.palette.border.divider),padding:"8px 4px"},avatarContainer:{width:60,position:"relative"},avatar:{color:"#fff",height:45,width:45,position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto","&.favorite":{border:"2px solid gold"}},infoContainer:{flexGrow:1,"& .type":{fontSize:10,color:n.palette.text.alt},"& .name":{fontSize:18,color:function(n){return Boolean(n.contact)?n.contact.color:n.color}},"& .number":{fontSize:12,color:n.palette.text.alt}},actions:{display:"flex",marginTop:10,"& .button":{height:45,width:45}}}});const E=function(n){var e,t,i,s,v,b,h,O,E,j,S,C,P,N,k,x,A=(0,p.dp)("phone"),T=(0,o.Zp)(),_=(0,p.MW)(),G=(0,r.d4)(function(n){return n.data.data.contacts}),D=(0,r.d4)(function(n){return n.call.call}),U=G.filter(function(e){return e.number===n.call.number})[0],z=w(g(g({},A),{},{contact:U})),B=function(){var e,t=(e=d().m(function e(){var t,l,r;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!=D||null!=n&&null!==(t=n.call)&&void 0!==t&&t.limited||null!=n&&null!==(l=n.call)&&void 0!==l&&l.anonymous){e.n=5;break}return e.p=1,e.n=2,m.A.send("CreateCall",{number:n.call.number,isAnon:!1});case 2:return e.n=3,e.v.json();case 3:e.v?T("/apps/phone/call/".concat(n.call.number)):_("Unable To Start Call"),e.n=5;break;case 4:e.p=4,r=e.v,console.error(r),_("Unable To Start Call");case 5:return e.a(2)}},e,null,[[1,4]])}),function(){var n=this,t=arguments;return new Promise(function(l,r){var o=e.apply(n,t);function a(n){y(o,l,r,a,c,"next",n)}function c(n){y(o,l,r,a,c,"throw",n)}a(void 0)})});return function(){return t.apply(this,arguments)}}();return null!=n&&null!==(e=n.call)&&void 0!==e&&e.limited&&null!=n&&null!==(t=n.call)&&void 0!==t&&t.method?null:l.createElement("div",{className:z.call},l.createElement("div",{className:z.avatarContainer},null!=n&&null!==(i=n.call)&&void 0!==i&&i.limited||null!=n&&null!==(s=n.call)&&void 0!==s&&s.anonymous||null==U||null==U.avatar||""===U.avatar?l.createElement(a.A,{className:"".concat(z.avatar," ").concat(null!=n&&null!==(v=n.call)&&void 0!==v&&v.limited||null!=n&&null!==(b=n.call)&&void 0!==b&&b.anonymous||null==U||!U.favorite?"":"favorite"),style:{background:null!=n&&null!==(h=n.call)&&void 0!==h&&h.limited||null!=n&&null!==(O=n.call)&&void 0!==O&&O.anonymous||null==U||!U.color?"#333":U.color}},null!=n&&null!==(E=n.call)&&void 0!==E&&E.limited||null!=n&&null!==(j=n.call)&&void 0!==j&&j.anonymous||null==U?null!=n&&null!==(S=n.call)&&void 0!==S&&S.limited?"?":"#":U.name.charAt(0)):l.createElement(a.A,{className:"".concat(z.avatar," ").concat(U.favorite?"favorite":""),src:U.avatar,alt:U.name.charAt(0)})),l.createElement("div",{className:z.infoContainer},l.createElement("div",{className:"type"},(x=null==n?void 0:n.call).duration>-1?x.method?l.createElement("span",null,"Outgoing Call"):l.createElement("span",null,"Incoming Call"):x.method?l.createElement("span",null,"Unanswered Outgoing Call"):l.createElement("span",null,"Missed Incoming Call")),null!=n&&null!==(C=n.call)&&void 0!==C&&C.limited||null!=n&&null!==(P=n.call)&&void 0!==P&&P.anonymous?l.createElement("div",{className:"name"},"Unknown Caller"):l.createElement("div",{className:"name"},null!=U?U.name:n.call.number),l.createElement("div",{className:"number"},l.createElement(f(),{date:n.call.time,unix:!0,fromNow:!0}))),!(null!=n&&null!==(N=n.call)&&void 0!==N&&N.limited)&&!(null!=n&&null!==(k=n.call)&&void 0!==k&&k.anonymous)&&l.createElement("div",{className:z.actions},l.createElement(c.A,{className:"button",onClick:B},l.createElement(u.g,{icon:["far","phone"]})),l.createElement(c.A,{className:"button",onClick:function(){var e,t;null!=n&&null!==(e=n.call)&&void 0!==e&&e.limited||null!=n&&null!==(t=n.call)&&void 0!==t&&t.anonymous||T("/apps/messages/convo/".concat(n.call.number))}},l.createElement(u.g,{icon:["far","message-sms"]})),l.createElement(c.A,{className:"button",onClick:function(){var e,t;null!=n&&null!==(e=n.call)&&void 0!==e&&e.limited||null!=n&&null!==(t=n.call)&&void 0!==t&&t.anonymous||(Boolean(U)?T("/apps/contacts/view/".concat(U.id)):T("/apps/contacts/caller/".concat(n.call.number)))}},l.createElement(u.g,{icon:["far","eye"]}))))}}}]);