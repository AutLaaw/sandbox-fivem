"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[536,878,3221],{536:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(96540),a=r(69733),o=r(47767),i=r(60538),c=r(8239),l=r(81385),s=r(62969),u=r(93300),m=r.n(u),f=(0,s.A)(function(e){return{convo:{"&::before":{background:"transparent !important"},background:e.palette.secondary.dark,padding:"20px 12px",border:"1px solid rgba(0, 0, 0, .25)","&:not(:last-child)":{borderBottom:"none"},"&:hover":{background:e.palette.secondary.main,transition:"background ease-in 0.15s",cursor:"pointer"}},avatar:{color:"#fff",height:55,width:55,position:"relative",top:0},avatarFav:{color:"#fff",height:55,width:55,position:"relative",top:0,border:"2px solid gold"},number:{fontSize:16,fontWeight:"bold",color:e.palette.text.light},message:{fontSize:16,color:e.palette.text.light,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},time:{fontSize:12,color:e.palette.text.main},unread:{width:20,height:20,lineHeight:"23px",position:"absolute",bottom:"5%",right:"15%",textAlign:"center",background:e.palette.error.main,color:e.palette.text.light,borderRadius:100}}});const d=function(e){var t=f(),r=(0,o.Zp)(),s=(0,a.d4)(function(e){return e.data.data.contacts}).filter(function(t){return t.number===e.message.number})[0];return n.createElement(i.A,{className:t.convo,onClick:function(){r("/apps/messages/convo/".concat(e.message.number))}},n.createElement(c.Ay,{container:!0},n.createElement(c.Ay,{item:!0,xs:2,style:{position:"relative"}},null!=s?null!=s.avatar&&""!==s.avatar?n.createElement(l.A,{className:s.favorite?t.avatarFav:t.avatar,src:s.avatar,alt:s.name.charAt(0)}):n.createElement(l.A,{className:s.favorite?t.avatarFav:t.avatar,style:{background:s.color}},s.name.charAt(0)):n.createElement(l.A,{className:t.avatar},"#"),e.unread>0?n.createElement("div",{className:t.unread},e.unread):null),n.createElement(c.Ay,{item:!0,xs:10},null!=s?n.createElement("div",{className:t.number},s.name):n.createElement("div",{className:t.number},e.message.number),n.createElement("div",{className:t.message},e.message.message),n.createElement("div",{className:t.time},n.createElement(m(),{fromNow:!0},+e.message.time)))))}},20878:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(96540),a=r(69733),o=r(81385),i=r(62969),c=r(32849),l=r(93300),s=r.n(l),u=r(47767);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=(0,i.A)(function(e){return{thread:{display:"flex",padding:"16px 4px",borderBottom:"1px solid ".concat(e.palette.border.divider),transition:"background ease-in 0.15s","&:hover":{cursor:"pointer",background:e.palette.secondary.dark}},picContainer:{width:65,position:"relative","& .avatar":{width:50,height:50,position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto"}},infoContainer:{flexGrow:1,maxWidth:"calc(100% - 140px)",position:"relative","& .inner":{height:"fit-content",position:"absolute",top:0,bottom:0,left:0,margin:"auto","& .name":{fontSize:16,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:function(e){return Boolean(e.contact)?e.contact.color:e.color}},"& .message":{fontSize:14,color:e.palette.text.main,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},timestampContainer:{width:100,height:64,textAlign:"right","& .timestamp":{fontSize:10,color:e.palette.text.alt},"& .unread":{width:"fit-content",marginLeft:"auto",borderRadius:16,background:function(e){return e.color},padding:"0 8px",marginTop:16}}}});const v=function(e){var t=e.thread,r=(0,c.dp)("messages"),i=(0,u.Zp)(),l=(0,a.d4)(function(e){return e.data.data.contacts}).filter(function(e){return e.number===t.number})[0],m=b(d(d({},r),{},{contact:l}));return n.createElement("div",{className:m.thread,onClick:function(){i("/apps/messages/convo/".concat(t.number))}},n.createElement("div",{className:m.picContainer},null!=l?null!=l.avatar&&""!==l.avatar?n.createElement(o.A,{className:"avatar ".concat(Boolean(null==l?void 0:l.favorite)?"favorite":""),src:l.avatar,alt:l.name.charAt(0)}):n.createElement(o.A,{className:"avatar ".concat(Boolean(null==l?void 0:l.favorite)?"favorite":""),style:{background:l.color}},l.name.charAt(0)):n.createElement(o.A,{className:"avatar"},"#")),n.createElement("div",{className:m.infoContainer},n.createElement("div",{className:"inner"},n.createElement("div",{className:"name"},Boolean(l)?l.name:t.number),n.createElement("div",{className:"message"},n.createElement(s(),{unix:!0,className:"timestamp",date:t.time,fromNow:!0})))),n.createElement("div",{className:m.timestampContainer},t.unread>0&&n.createElement("div",{className:"unread"},t.unread)))}},43221:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(96540),a=r(69733),o=r(47767),i=r(15849),c=r(11641),l=r(62969),s=r(71544),u=(r(536),r(46784)),m=r(20878),f=r(16783),d=r(32849);function p(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof c?n:c,s=Object.create(l.prototype);return b(s,"_invoke",function(r,n,a){var o,c,l,s=0,u=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,c=0,l=e,f.n=r,i}};function d(r,n){for(c=r,l=n,t=0;!m&&s&&!a&&t<u.length;t++){var a,o=u[t],d=f.p,p=o[2];r>3?(a=p===n)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(c=0,f.v=n,f.n=o[1]):d<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,c=0))}if(a||r>1)return i;throw m=!0,n}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&d(u,p),c=u,l=p;(t=c<2?e:l)||!m;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?l:r.call(n,f))!==i)break}catch(t){o=e,c=1,l=t}finally{s=1}}return{value:t,done:m}}}(r,a,o),!0),s}var i={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(b(t={},n,function(){return this}),t),m=s.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,b(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=s,b(m,"constructor",s),b(s,"constructor",l),l.displayName="GeneratorFunction",b(s,a,"GeneratorFunction"),b(m),b(m,a,"Generator"),b(m,n,function(){return this}),b(m,"toString",function(){return"[object Generator]"}),(p=function(){return{w:o,m:f}})()}function b(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}b=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){b(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},b(e,t,r,n)}function v(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}var g=(0,l.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},add:{position:"absolute",bottom:"12%",right:"10%","&:hover":{filter:"brightness(0.75)",transition:"filter ease-in 0.15s"}},or:{fontSize:40,color:e.palette.primary.main,textAlign:"center",fontWeight:"bold"},contactList:{zIndex:"10001 !important",maxHeight:400,"& div::-webkit-scrollbar":{width:6},"& div::-webkit-scrollbar-thumb":{background:"#ffffff52"},"& div::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"& div::-webkit-scrollbar-track":{background:"transparent"}},contactListTrigger:{width:"100%",height:60,background:"red",textAlign:"center"},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}});const h=function(e){var t=g(),r=(0,a.wA)(),l=(0,o.Zp)(),b=(0,d.MW)(),h=(0,a.d4)(function(e){return e.messages.loaded}),y=(0,a.d4)(function(e){return e.messages.threads});return(0,n.useEffect)(function(){var e=function(){var e,t=(e=p().m(function e(){var t,n;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,f.A.send("Messages:InitLoad");case 1:return e.n=2,e.v.json();case 2:t=e.v,Boolean(t)?r({type:"MESSAGES_LOADED"}):b("Failed Loading Message Threads"),e.n=4;break;case 3:e.p=3,n=e.v,console.error(n),b("Error Loading Message Threads");case 4:return e.a(2)}},e,null,[[0,3]])}),function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){v(o,n,a,i,c,"next",e)}function c(e){v(o,n,a,i,c,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}();h||e()},[]),n.createElement(s.RT,{appId:"messages",actions:n.createElement(n.Fragment,null,n.createElement(i.A,{title:"Send New Text"},n.createElement("span",null,n.createElement(c.A,{onClick:function(){return l("/apps/messages/new")}},n.createElement(u.g,{icon:["fas","plus"]})))))},Boolean(h)&&Boolean(y)?y.length>0?y.sort(function(e,t){return t.time-e.time}).map(function(e){return n.createElement(m.default,{key:e.id,thread:e})}):n.createElement("div",{className:t.emptyMsg},"You Have No Messages"):n.createElement(s.aH,{static:!0,text:"Loading Messages"}))}}}]);