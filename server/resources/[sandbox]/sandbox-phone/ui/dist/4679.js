"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[4679,5239],{25239:(e,t,n)=>{n.d(t,{A:()=>E});var r=n(98587),a=n(58168),o=n(96540),i=n(34164),l=n(75659),c=n(28466),u=n(14073),s=n(33800),p=n(79716),d=n(11848),f=n(38413),m=n(31609);function v(e){return(0,m.Ay)("MuiInputAdornment",e)}const y=(0,f.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var h,b=n(25669),A=n(74848);const g=["children","className","component","disablePointerEvents","disableTypography","position","variant"],k=(0,d.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,c.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(({theme:e,ownerState:t})=>(0,a.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${y.positionStart}&:not(.${y.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),E=o.forwardRef(function(e,t){const n=(0,b.b)({props:e,name:"MuiInputAdornment"}),{children:d,className:f,component:m="div",disablePointerEvents:y=!1,disableTypography:E=!1,position:T,variant:w}=n,S=(0,r.A)(n,g),C=(0,p.A)()||{};let j=w;w&&C.variant,C&&!j&&(j=C.variant);const x=(0,a.A)({},n,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:y,position:T,variant:j}),N=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:a,size:o,variant:i}=e,u={root:["root",n&&"disablePointerEvents",a&&`position${(0,c.A)(a)}`,i,r&&"hiddenLabel",o&&`size${(0,c.A)(o)}`]};return(0,l.A)(u,v,t)})(x);return(0,A.jsx)(s.A.Provider,{value:null,children:(0,A.jsx)(k,(0,a.A)({as:m,ownerState:x,className:(0,i.A)(N.root,f),ref:t},S,{children:"string"!=typeof d||E?(0,A.jsxs)(o.Fragment,{children:["start"===T?h||(h=(0,A.jsx)("span",{className:"notranslate",children:"â€‹"})):null,d]}):(0,A.jsx)(u.A,{color:"text.secondary",children:d})}))})})},70361:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(96540),a=n(69733),o=n(11641),i=n(40921),l=n(48719),c=n(14073),u=n(16576),s=n(49799),p=n(44635),d=n(82241),f=n(71543),m=n(41750),v=n(61224),y=n(69890),h=n(18740),b=n(62969),A=n(46784),g=n(32849),k=n(16783),E=n(71544),T=n(58824);function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return S(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],p=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,d.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!p&&u&&!a&&t<s.length;t++){var a,o=s[t],f=d.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,d.v=r,d.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,d.n=m,l=0))}if(a||n>1)return i;throw p=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!p;){o||(l?l<3?(l>1&&(d.n=-1),f(l,c)):d.n=c:d.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(p=d.n<0)?c:n.call(r,d))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:p}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(S(t={},r,function(){return this}),t),p=u.prototype=l.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,S(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=u,S(p,"constructor",u),S(u,"constructor",c),c.displayName="GeneratorFunction",S(u,a,"GeneratorFunction"),S(p),S(p,a,"Generator"),S(p,r,function(){return this}),S(p,"toString",function(){return"[object Generator]"}),(w=function(){return{w:o,m:d}})()}function S(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}S=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){S(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},S(e,t,n,r)}function C(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,l,"next",e)}function l(e){C(o,r,a,i,l,"throw",e)}i(void 0)})}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=(0,b.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},details:{"& h3":{color:e.palette.primary.main}},detailsList:{padding:10},buttons:{width:"100%",display:"flex",margin:"auto"},button:{width:"-webkit-fill-available",padding:20,color:e.palette.warning.main,"&:hover":{backgroundColor:"".concat(e.palette.warning.main,"14")}},buttonNegative:{width:"-webkit-fill-available",padding:20,color:e.palette.error.main,"&:hover":{backgroundColor:"".concat(e.palette.error.main,"14")}},buttonPositive:{width:"-webkit-fill-available",padding:20,color:e.palette.success.main,"&:hover":{backgroundColor:"".concat(e.palette.success.main,"14")}},creatorInput:{marginBottom:5},track:{background:e.palette.secondary.dark}}});const R=function(e){var t=P(),n=(0,a.wA)(),b=(0,g.MW)(),S=(0,a.d4)(function(e){return e.data.data.tracks}),C=(0,a.d4)(function(e){return e.race.creator}),N=(0,a.d4)(function(e){return e.data.data.onDuty}),R=(0,a.d4)(function(e){var t;return null===(t=e.data.data.player)||void 0===t||null===(t=t.Profiles)||void 0===t?void 0:t.redline}),O=x((0,r.useState)(null),2),D=O[0],I=O[1],_=x((0,r.useState)(!1),2),H=_[0],L=_[1],z=x((0,r.useState)(null),2),U=z[0],F=z[1],G=x((0,r.useState)(null),2),M=G[0],$=G[1],B=function(){var e=j(w().m(function e(){var t,r;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,k.A.send("CreateTrack");case 1:return e.n=2,e.v.json();case 2:t=e.v,b(t?"Creator Started":"Unable to Start Creator"),t&&n({type:"RACE_STATE_CHANGE",payload:{state:{checkpoints:0,distance:0,type:"lap"}}}),e.n=4;break;case 3:e.p=3,r=e.v,console.error(r),b("Unable to Start Creator");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=j(w().m(function e(){return w().w(function(e){for(;;)switch(e.n){case 0:try{k.A.send("StopCreator")}catch(e){console.error(e)}n({type:"RACE_STATE_CHANGE",payload:{state:null}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=j(w().m(function e(t){var n,r;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.preventDefault(),e.p=1,e.n=2,k.A.send("FinishCreator",{name:t.target.name.value,type:t.target.type.value});case 2:return e.n=3,e.v.json();case 3:n=e.v,b(n?"Track Create":"Unable to Create Track"),L(!1),e.n=5;break;case 4:e.p=4,r=e.v,console.error(r),b("Unable to Create Track"),L(!1);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=j(w().m(function e(){var t,n;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,k.A.send("DeleteTrack",U);case 1:return e.n=2,e.v.json();case 2:t=e.v,F(null),I(null),b(t?"Track Deleted":"Unable to Delete Track"),e.n=4;break;case 3:e.p=3,n=e.v,console.error(n),F(null),I(null),b("Unable to Delete Track");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=j(w().m(function e(){var t,n;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,k.A.send("ResetTrackHistory",M);case 1:return e.n=2,e.v.json();case 2:t=e.v,$(null),b(t?"Track History Reset":"Unable to Reset Track History"),e.n=4;break;case 3:e.p=3,n=e.v,console.error(n),$(null),b("Unable to Reset Track History");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();return r.createElement(E.RT,{appId:"redline",actionShow:Boolean(R)&&"police"!=N,actions:r.createElement(r.Fragment,null,Boolean(C)?r.createElement(r.Fragment,null,r.createElement(o.A,{onClick:W},r.createElement(A.g,{icon:["fas","xmark"]})),r.createElement(o.A,{onClick:function(){return L(!0)}},r.createElement(A.g,{icon:["far","floppy-disk"]}))):r.createElement(o.A,{onClick:B},r.createElement(A.g,{icon:["fas","plus"]})))},S.map(function(e,n){return r.createElement(i.A,{key:"track-".concat(n),className:t.track,expanded:D===n,onChange:D===n?function(){return I(null)}:function(){return I(n)}},r.createElement(l.A,{expandIcon:r.createElement(A.g,{icon:["fas","chevron-down"]})},r.createElement(c.A,{className:t.heading},e.Name),r.createElement(c.A,{className:t.secondaryHeading},e.Distance)),r.createElement(u.A,null,r.createElement(s.A,null,r.createElement(p.Ay,null,r.createElement(d.A,{primary:"Name",secondary:e.Name})),r.createElement(p.Ay,null,r.createElement(d.A,{primary:"Type",secondary:T.TrackTypes[e.Type]})),r.createElement(p.Ay,null,r.createElement(d.A,{primary:"Distance",secondary:e.Distance})))),r.createElement(f.A,null),r.createElement(m.A,null,r.createElement(v.A,{size:"small",onClick:function(){return $(e.id)}},"Reset Lap History"),r.createElement(v.A,{size:"small",onClick:function(){return F(e.id)}},"Delete Track")))}),r.createElement(E.pT,{title:"Delete Track?",open:null!=U,confirm:"Yes",decline:"No",onConfirm:Y,onDecline:function(){return F(null)}}),r.createElement(E.pT,{title:"Reset Track History?",open:null!=M,confirm:"Yes",decline:"No",onConfirm:V,onDecline:function(){return $(null)}}),r.createElement(E.aF,{form:!0,open:H,title:"Create New Track",onClose:function(){return L(!1)},onAccept:q,submitLang:"Save Track",closeLang:"Cancel"},r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,required:!0,label:"Name",name:"name",variant:"outlined"}),r.createElement(y.A,{select:!0,fullWidth:!0,required:!0,variant:"outlined",label:"Type",name:"type",defaultValue:"laps"},Object.keys(T.TrackTypes).map(function(e){return r.createElement(h.A,{key:e,value:e},T.TrackTypes[e])}))))}}}]);