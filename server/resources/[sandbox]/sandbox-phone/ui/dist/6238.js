"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[1251,6238],{31251:(e,n,t)=>{t.r(n),t.d(n,{default:()=>O});var r=t(96540),l=t(69733),o=t(47767),a=t(81385),c=t(11641),i=t(62969),u=t(46784),f=t(93300),s=t.n(f),m=t(16783),d=t(32849);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",l=t.toStringTag||"@@toStringTag";function o(t,r,l,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return y(u,"_invoke",function(t,r,l){var o,c,i,u=0,f=l||[],s=!1,m={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return o=n,c=0,i=e,m.n=t,a}};function d(t,r){for(c=t,i=r,n=0;!s&&u&&!l&&n<f.length;n++){var l,o=f[n],d=m.p,p=o[2];t>3?(l=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((l=t<2&&d<o[1])?(c=0,m.v=r,m.n=o[1]):d<p&&(l=t<3||o[0]>r||r>p)&&(o[4]=t,o[5]=r,m.n=p,c=0))}if(l||t>1)return a;throw s=!0,r}return function(l,f,p){if(u>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,p),c=f,i=p;(n=c<2?e:i)||!s;){o||(c?c<3?(c>1&&(m.n=-1),d(c,i)):m.n=i:m.v=i);try{if(u=2,o){if(c||(l="next"),n=o[l]){if(!(n=n.call(o,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,c<2&&(c=0)}else 1===c&&(n=o.return)&&n.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+l+"' method"),c=1);o=e}else if((n=(s=m.n<0)?i:t.call(r,m))!==a)break}catch(n){o=e,c=1,i=n}finally{u=1}}return{value:n,done:s}}}(t,l,o),!0),u}var a={};function c(){}function i(){}function u(){}n=Object.getPrototypeOf;var f=[][r]?n(n([][r]())):(y(n={},r,function(){return this}),n),s=u.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,y(e,l,"GeneratorFunction")),e.prototype=Object.create(s),e}return i.prototype=u,y(s,"constructor",u),y(u,"constructor",i),i.displayName="GeneratorFunction",y(u,l,"GeneratorFunction"),y(s),y(s,l,"Generator"),y(s,r,function(){return this}),y(s,"toString",function(){return"[object Generator]"}),(v=function(){return{w:o,m}})()}function y(e,n,t,r){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}y=function(e,n,t,r){if(n)l?l(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var o=function(n,t){y(e,n,function(e){return this._invoke(n,t,e)})};o("next",0),o("throw",1),o("return",2)}},y(e,n,t,r)}function b(e,n,t,r,l,o,a){try{var c=e[o](a),i=c.value}catch(e){return void t(e)}c.done?n(i):Promise.resolve(i).then(r,l)}function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function E(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==p(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var w=(0,i.A)(function(e){return{call:{display:"flex",borderBottom:"1px solid ".concat(e.palette.border.divider),padding:"8px 4px"},avatarContainer:{width:60,position:"relative"},avatar:{color:"#fff",height:45,width:45,position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto","&.favorite":{border:"2px solid gold"}},infoContainer:{flexGrow:1,"& .type":{fontSize:10,color:e.palette.text.alt},"& .name":{fontSize:18,color:function(e){return Boolean(e.contact)?e.contact.color:e.color}},"& .number":{fontSize:12,color:e.palette.text.alt}},actions:{display:"flex",marginTop:10,"& .button":{height:45,width:45}}}});const O=function(e){var n,t,i,f,p,y,h,E,O,j,S,C,x,A,k,N,P=(0,d.dp)("phone"),T=(0,o.Zp)(),_=(0,d.MW)(),G=(0,l.d4)(function(e){return e.data.data.contacts}),I=(0,l.d4)(function(e){return e.call.call}),B=G.filter(function(n){return n.number===e.call.number})[0],M=w(g(g({},P),{},{contact:B})),U=function(){var n,t=(n=v().m(function n(){var t,r,l;return v().w(function(n){for(;;)switch(n.p=n.n){case 0:if(null!=I||null!=e&&null!==(t=e.call)&&void 0!==t&&t.limited||null!=e&&null!==(r=e.call)&&void 0!==r&&r.anonymous){n.n=5;break}return n.p=1,n.n=2,m.A.send("CreateCall",{number:e.call.number,isAnon:!1});case 2:return n.n=3,n.v.json();case 3:n.v?T("/apps/phone/call/".concat(e.call.number)):_("Unable To Start Call"),n.n=5;break;case 4:n.p=4,l=n.v,console.error(l),_("Unable To Start Call");case 5:return n.a(2)}},n,null,[[1,4]])}),function(){var e=this,t=arguments;return new Promise(function(r,l){var o=n.apply(e,t);function a(e){b(o,r,l,a,c,"next",e)}function c(e){b(o,r,l,a,c,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}();return null!=e&&null!==(n=e.call)&&void 0!==n&&n.limited&&null!=e&&null!==(t=e.call)&&void 0!==t&&t.method?null:r.createElement("div",{className:M.call},r.createElement("div",{className:M.avatarContainer},null!=e&&null!==(i=e.call)&&void 0!==i&&i.limited||null!=e&&null!==(f=e.call)&&void 0!==f&&f.anonymous||null==B||null==B.avatar||""===B.avatar?r.createElement(a.A,{className:"".concat(M.avatar," ").concat(null!=e&&null!==(p=e.call)&&void 0!==p&&p.limited||null!=e&&null!==(y=e.call)&&void 0!==y&&y.anonymous||null==B||!B.favorite?"":"favorite"),style:{background:null!=e&&null!==(h=e.call)&&void 0!==h&&h.limited||null!=e&&null!==(E=e.call)&&void 0!==E&&E.anonymous||null==B||!B.color?"#333":B.color}},null!=e&&null!==(O=e.call)&&void 0!==O&&O.limited||null!=e&&null!==(j=e.call)&&void 0!==j&&j.anonymous||null==B?null!=e&&null!==(S=e.call)&&void 0!==S&&S.limited?"?":"#":B.name.charAt(0)):r.createElement(a.A,{className:"".concat(M.avatar," ").concat(B.favorite?"favorite":""),src:B.avatar,alt:B.name.charAt(0)})),r.createElement("div",{className:M.infoContainer},r.createElement("div",{className:"type"},(N=null==e?void 0:e.call).duration>-1?N.method?r.createElement("span",null,"Outgoing Call"):r.createElement("span",null,"Incoming Call"):N.method?r.createElement("span",null,"Unanswered Outgoing Call"):r.createElement("span",null,"Missed Incoming Call")),null!=e&&null!==(C=e.call)&&void 0!==C&&C.limited||null!=e&&null!==(x=e.call)&&void 0!==x&&x.anonymous?r.createElement("div",{className:"name"},"Unknown Caller"):r.createElement("div",{className:"name"},null!=B?B.name:e.call.number),r.createElement("div",{className:"number"},r.createElement(s(),{date:e.call.time,unix:!0,fromNow:!0}))),!(null!=e&&null!==(A=e.call)&&void 0!==A&&A.limited)&&!(null!=e&&null!==(k=e.call)&&void 0!==k&&k.anonymous)&&r.createElement("div",{className:M.actions},r.createElement(c.A,{className:"button",onClick:U},r.createElement(u.g,{icon:["far","phone"]})),r.createElement(c.A,{className:"button",onClick:function(){var n,t;null!=e&&null!==(n=e.call)&&void 0!==n&&n.limited||null!=e&&null!==(t=e.call)&&void 0!==t&&t.anonymous||T("/apps/messages/convo/".concat(e.call.number))}},r.createElement(u.g,{icon:["far","message-sms"]})),r.createElement(c.A,{className:"button",onClick:function(){var n,t;null!=e&&null!==(n=e.call)&&void 0!==n&&n.limited||null!=e&&null!==(t=e.call)&&void 0!==t&&t.anonymous||(Boolean(B)?T("/apps/contacts/view/".concat(B.id)):T("/apps/contacts/caller/".concat(e.call.number)))}},r.createElement(u.g,{icon:["far","eye"]}))))}},76238:(e,n,t)=>{t.r(n),t.d(n,{default:()=>p});var r=t(96540),l=t(69733),o=t(62969),a=t(71544),c=t(31251),i=t(11641),u=t(46784),f=t(47767);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,l,o,a,c=[],i=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;i=!1}else for(;!(i=(r=o.call(t)).done)&&(c.push(r.value),c.length!==n);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw l}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return m(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var d=(0,o.A)(function(e){return{emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}});const p=function(e){var n=d(),t=(0,f.Zp)(),o=(0,l.d4)(function(e){return e.data.data.calls}),m=s((0,r.useState)(-1),2),p=m[0],v=m[1];return r.createElement(a.RT,{appId:"phone",actions:r.createElement(r.Fragment,null,r.createElement(i.A,{onClick:function(){return t("/apps/phone")}},r.createElement(u.g,{icon:["fas","phone"]})))},o.filter(function(e){return Boolean(e)}).length>0?o.filter(function(e){return Boolean(e)}).sort(function(e,n){return n.time-e.time}).map(function(e,n){return r.createElement(c.default,{key:n,expanded:p,index:n,call:e,onClick:(t=n,function(e,n){v(n?t:-1)})});var t}):r.createElement("div",{className:n.emptyMsg},"You Have No Recent Calls"))}}}]);