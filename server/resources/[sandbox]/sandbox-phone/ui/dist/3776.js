"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[3776],{63776:(e,r,t)=>{t.r(r),t.d(r,{default:()=>g});var n=t(96540),o=t(44635),a=t(82241),u=t(44448),i=t(11641),c=t(62969),l=t(46784),f=t(32849),s=t(71544),d=t(16783);function p(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var c=n&&n.prototype instanceof i?n:i,l=Object.create(c.prototype);return v(l,"_invoke",function(t,n,o){var a,i,c,l=0,f=o||[],s=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(r,t){return a=r,i=0,c=e,d.n=t,u}};function p(t,n){for(i=t,c=n,r=0;!s&&l&&!o&&r<f.length;r++){var o,a=f[r],p=d.p,v=a[2];t>3?(o=v===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(i=0,d.v=n,d.n=a[1]):p<v&&(o=t<3||a[0]>n||n>v)&&(a[4]=t,a[5]=n,d.n=v,i=0))}if(o||t>1)return u;throw s=!0,n}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&p(f,v),i=f,c=v;(r=i<2?e:c)||!s;){a||(i?i<3?(i>1&&(d.n=-1),p(i,c)):d.n=c:d.v=c);try{if(l=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((r=(s=d.n<0)?c:t.call(n,d))!==u)break}catch(r){a=e,i=1,c=r}finally{l=1}}return{value:r,done:s}}}(t,o,a),!0),l}var u={};function i(){}function c(){}function l(){}r=Object.getPrototypeOf;var f=[][n]?r(r([][n]())):(v(r={},n,function(){return this}),r),s=l.prototype=i.prototype=Object.create(f);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,v(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return c.prototype=l,v(s,"constructor",l),v(l,"constructor",c),c.displayName="GeneratorFunction",v(l,o,"GeneratorFunction"),v(s),v(s,o,"Generator"),v(s,n,function(){return this}),v(s,"toString",function(){return"[object Generator]"}),(p=function(){return{w:a,m:d}})()}function v(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}v=function(e,r,t,n){if(r)o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t;else{var a=function(r,t){v(e,r,function(e){return this._invoke(r,t,e)})};a("next",0),a("throw",1),a("return",2)}},v(e,r,t,n)}function y(e,r,t,n,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void t(e)}i.done?r(c):Promise.resolve(c).then(n,o)}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,u,i=[],c=!0,l=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(i.push(n.value),i.length!==r);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return h(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var b=(0,c.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},item:{borderBottom:"1px solid ".concat(e.palette.border.divider),"&:first-child":{borderTop:"1px solid ".concat(e.palette.border.divider)}}}});const g=function(e){var r,t,c,v,h,g,w,E=e.property,j=e.type,A=e.upgrade,P=e.setLoading,O=e.onRefresh,S=b(),k=(0,f.MW)(),U=m((0,n.useState)(!1),2),x=U[0],T=U[1],_=null===(r=A.levels)||void 0===r?void 0:r[(null!==(t=null==E||null===(c=E.upgrades)||void 0===c?void 0:c[j])&&void 0!==t?t:1)-1],C=null===(v=A.levels)||void 0===v?void 0:v[null!==(h=null==E||null===(g=E.upgrades)||void 0===g?void 0:g[j])&&void 0!==h?h:1],G=function(){var e,r=(e=p().m(function e(){var r;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return P(!0),T(!1),e.p=1,e.n=2,d.A.send("PurchasePropertyUpgrade",{upgrade:j,id:E.id});case 2:return e.n=3,e.v.json();case 3:e.v?(k("Upgrade Purchased"),O()):k("Unable to Purchase Upgrade"),e.n=5;break;case 4:e.p=4,r=e.v,console.error(r),k("Unable to Purchase Upgrade");case 5:P(!1);case 6:return e.a(2)}},e,null,[[1,4]])}),function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function u(e){y(a,n,o,u,i,"next",e)}function i(e){y(a,n,o,u,i,"throw",e)}u(void 0)})});return function(){return r.apply(this,arguments)}}();return n.createElement("div",{className:S.wrapper},n.createElement(o.Ay,{className:S.item},n.createElement(a.A,{primary:"".concat(_.name),secondary:"".concat(_.info).concat(C?"":" - Max Upgrade Reached")}),n.createElement(u.A,null,n.createElement(i.A,{edge:"end",onClick:function(){return T(!0)},disabled:!C},n.createElement(l.g,{icon:["fas","turn-up"]})))),n.createElement(s.aF,{form:!0,open:x,title:"Purchase ".concat(null==C?void 0:C.name,"?"),onAccept:G,submitLang:"Purchase",onClose:function(){return T(!1)}},n.createElement("p",null,null==C?void 0:C.name," - ",null==C?void 0:C.info),n.createElement("p",null,"Upgrade Cost: $",null==C||null===(w=C.price)||void 0===w?void 0:w.toLocaleString("en-US")),n.createElement("p",null,n.createElement("i",null,"Money will be taken from your main bank account.")),n.createElement("p",null,"Are you sure you want to upgrade? Purchases may not be refunded.")))}}}]);