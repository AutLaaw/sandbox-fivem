"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[5131,6420],{36420:(e,t,n)=>{n.r(t),n.d(t,{acceptCall:()=>l,dismissIncoming:()=>o,endCall:()=>r,readCalls:()=>c,showIncoming:()=>i});var a=n(16783),l=function(e){return function(t){a.A.send("AcceptCall",e)}},r=function(){return function(e){a.A.send("EndCall",null)}},c=function(){return function(e){a.A.send("ReadCalls",null)}},o=function(){return function(e){e({type:"DISMISS_INCOMING"})}},i=function(){return function(e){e({type:"SHOW_INCOMING"})}}},65131:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(96540),l=n(69733),r=n(47767),c=n(81385),o=n(61224),i=n(62969),s=n(46784),u=n(93300),m=n.n(u),d=n(36420);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r,c,o=[],i=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=r.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){s=!0,l=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw l}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var h=(0,i.A)(function(e){return{call:{display:"flex",flexDirection:"column",padding:16,height:"100%",background:e.palette.secondary.main},callInfo:{width:"100%",marginTop:32},caller:{width:"100%","& .inner":{width:"100%",textAlign:"center","& .details":{marginTop:16,marginBottom:16,"& span":{display:"block",fontSize:26,fontWeight:"bold"},"& small":{marginTop:4,display:"block",fontSize:18,color:e.palette.text.alt}}}},avatar:{height:100,width:100,border:"2px solid transparent",margin:"auto",fontSize:55,"&.favorite":{borderColor:"gold"}},duration:{textAlign:"center",fontSize:22,fontWeight:"bold",color:e.palette.success.main},keypadBtn:{textAlign:"center",height:75,fontSize:"24px",width:"100%","&.end":{color:e.palette.error.light,"&:hover":{backgroundColor:"".concat(e.palette.error.dark,"80")}},"&.accept":{color:e.palette.success.light,"&:hover":{backgroundColor:"".concat(e.palette.success.dark,"80")}}},spacer:{flexGrow:1},actions:{display:"flex"}}});const v=(0,l.Ng)(null,{acceptCall:d.acceptCall,endCall:d.endCall})(function(e){var t=h(),n=(0,r.Zp)(),i=(0,r.g)().number,u=((0,l.d4)(function(e){return e.phone.limited}),(0,l.d4)(function(e){return e.call.callLimited})),d=(0,l.d4)(function(e){return e.data.data.contacts}),p=(0,l.d4)(function(e){return e.call.call}),v=d.filter(function(e){return e.number===i})[0],g=f((0,a.useState)(!1),2),E=g[0],b=g[1];(0,a.useEffect)(function(){b(null)},[]),(0,a.useEffect)(function(){var e=null;return null==p&&(b(!0),e=setTimeout(function(){n(-1)},2500)),function(){clearTimeout(e)}},[p]);return a.createElement("div",{className:t.call},a.createElement("div",{className:t.callInfo},a.createElement("div",{className:t.caller},null==v||u?a.createElement("div",{className:"inner"},a.createElement(c.A,{className:t.avatar},"#"),a.createElement("div",{className:"details"},a.createElement("span",null,"Unknown Number"),a.createElement("small",null,i))):null!=v.avatar&&""!==v.avatar?a.createElement("div",{className:"inner"},a.createElement(c.A,{className:"".concat(t.avatar," ").concat(v.favorite?"favorite":""),src:v.avatar,alt:v.name.charAt(0)}),a.createElement("div",{className:"details"},a.createElement("span",null,v.name),a.createElement("small",null,i))):a.createElement("div",{className:"inner"},a.createElement(c.A,{className:"".concat(t.avatar," ").concat(v.favorite?"favorite":""),style:{background:v.color}},v.name.charAt(0)),a.createElement("div",{className:"details"},a.createElement("span",null,v.name),a.createElement("small",null,i)))),a.createElement("div",{className:t.duration},E?a.createElement("small",null,"Call Ended"):a.createElement("small",null,null!=p?p.state>0?a.createElement(m(),{unix:!0,durationFromNow:!0,interval:1e3,format:"hh:mm:ss",date:p.start}):a.createElement("span",null,"Calling"):a.createElement("span",null,"Pending")))),a.createElement("div",{className:t.spacer}),a.createElement("div",{className:t.actions},a.createElement(o.A,{className:"".concat(t.keypadBtn," end"),onClick:function(t){null==p||E||e.endCall()},disabled:null==p},a.createElement(s.g,{icon:["far","phone-hangup"],style:{fontSize:36}})),Boolean(p)&&1==p.state&&a.createElement(o.A,{className:"".concat(t.keypadBtn," accept"),onClick:function(){e.acceptCall(p.number)},disabled:null==p},a.createElement(s.g,{icon:["far","phone-flip"],style:{fontSize:36}}))))})}}]);