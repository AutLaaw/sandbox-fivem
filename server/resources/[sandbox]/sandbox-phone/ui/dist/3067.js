"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[3067,5459,5664],{23067:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(96540),a=n(69733),i=n(62969),o=n(71544),l=n(95459),c=(0,i.A)(function(e){return{emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}});const u=function(e){var t=c(),n=(0,a.d4)(function(e){return e.data.data.emails.filter(function(e){return!Boolean(e.expires)||e.expires>Date.now()/1e3})});return r.createElement(o.RT,{appId:"email"},n.length>0?n.sort(function(e,t){return t.time-e.time}).map(function(e,t){return r.createElement(l.default,{key:"email-".concat(t),email:e})}):r.createElement("div",{className:t.emptyMsg},"You Have No Emails"))}},45664:(e,t,n)=>{n.r(t),n.d(t,{DeleteEmail:()=>u,GPSRoute:()=>s,Hyperlink:()=>p,ReadEmail:()=>c});var r=n(16783);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return function(t){r.A.send("ReadEmail",e.id).then(function(n){t({type:"UPDATE_DATA",payload:{type:"emails",id:e.id,data:o(o({},e),{},{unread:!1})}})}).catch(function(e){})}},u=function(e){return function(t){r.A.send("DeleteEmail",e).then(function(){return t({type:"REMOVE_DATA",payload:{type:"emails",id:e}}),!0}).catch(function(e){return!1})}},s=function(e,t){return function(n){r.A.send("GPSRoute",{id:e,location:t}).then(function(e){n({type:"ALERT_SHOW",payload:{alert:"GPS Marked"}})}).catch(function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Mark Location On GPS"}})})}},p=function(e,t){return function(n){r.A.send("Hyperlink",{id:e,hyperlink:t}).catch(function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Open Hyperlink"}})})}}},95459:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(96540),a=n(69733),i=n(47767),o=n(15849),l=n(62969),c=n(93300),u=n.n(c),s=n(46784),p=n(45664),d=n(32849),f=(0,l.A)(function(e){return{email:{display:"flex",flexDirection:"row",padding:"16px 8px",borderBottom:"1px solid ".concat(e.palette.border.divider),transition:"background ease-in 0.15s","&:hover":{background:e.palette.secondary.dark,cursor:"pointer"}},flags:{display:"flex",flexDirection:"column",padding:"8px 8px 8px 0px",gap:8},readIndicator:{fontSize:14,color:e.palette.text.alt,"&.unread":{color:function(e){return e.color}}},expireIndicator:{fontSize:12,color:e.palette.error.light},flagIndicator:{fontSize:14,color:e.palette.warning.main},details:{maxWidth:"calc(100% - 22px)",flexGrow:1},senderContainer:{display:"flex"},sender:{flexGrow:1,maxWidth:"70%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:18,color:function(e){return e.color}},timestamp:{textAlign:"right",fontSize:10,color:e.palette.text.alt,width:"30%",lineHeight:"26px"},subject:{fontSize:14,color:e.palette.text.main,width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}});const m=(0,a.Ng)(null,{DeleteEmail:p.DeleteEmail})(function(e){var t=e.email,n=e.DeleteEmail,a=(0,d.dp)("email"),l=f(a),c=(0,i.Zp)();return(0,r.useEffect)(function(){var e=null;return Boolean(t.expires)&&(e=setInterval(function(){t.expires<Date.now()/1e3&&n(t.id)},2500)),function(){clearInterval(e)}},[]),r.createElement("div",{className:l.email,onClick:function(){c("/apps/email/view/".concat(t.id))}},r.createElement("div",{className:l.flags},r.createElement(o.A,{placement:"right",title:Boolean(t.unread)?"Email Is Unread":"Email Has Been Read"},r.createElement(s.g,{icon:["fas","circle"],className:"".concat(l.readIndicator," ").concat(Boolean(t.unread)?"unread":"")})),Boolean(null==t?void 0:t.expires)&&t.expires>Date.now()/1e3&&r.createElement(o.A,{title:"Email Expires Soon",placement:"right"},r.createElement(s.g,{icon:["far","hexagon-exclamation"],className:l.expireIndicator})),Boolean(t.flags)&&r.createElement(o.A,{title:"Email Has Additional Flags",placement:"right"},r.createElement(s.g,{icon:["far","flag"],className:l.flagIndicator}))),r.createElement("div",{className:l.details},r.createElement("div",{className:l.senderContainer},r.createElement("div",{className:l.sender},t.sender),r.createElement("div",{className:l.timestamp},r.createElement(u(),{unix:!0,interval:6e4,fromNow:!0,date:t.time}))),r.createElement("div",{className:l.subject},t.subject)))})}}]);