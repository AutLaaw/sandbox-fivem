"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[1718],{11718:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var r=t(96540),o=t(69733),i=t(11641),a=t(49799),c=t(44635),u=t(82241),l=t(44448),f=t(62969),s=t(46784),d=t(47767),p=t(32849),v=t(71544),b=t(16783);function h(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return m(l,"_invoke",function(t,r,o){var i,c,u,l=0,f=o||[],s=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return i=n,c=0,u=e,d.n=t,a}};function p(t,r){for(c=t,u=r,n=0;!s&&l&&!o&&n<f.length;n++){var o,i=f[n],p=d.p,v=i[2];t>3?(o=v===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=t<2&&p<i[1])?(c=0,d.v=r,d.n=i[1]):p<v&&(o=t<3||i[0]>r||r>v)&&(i[4]=t,i[5]=r,d.n=v,c=0))}if(o||t>1)return a;throw s=!0,r}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&p(f,v),c=f,u=v;(n=c<2?e:u)||!s;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=i.return)&&n.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((n=(s=d.n<0)?u:t.call(r,d))!==a)break}catch(n){i=e,c=1,u=n}finally{l=1}}return{value:n,done:s}}}(t,o,i),!0),l}var a={};function c(){}function u(){}function l(){}n=Object.getPrototypeOf;var f=[][r]?n(n([][r]())):(m(n={},r,function(){return this}),n),s=l.prototype=c.prototype=Object.create(f);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,m(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return u.prototype=l,m(s,"constructor",l),m(l,"constructor",u),u.displayName="GeneratorFunction",m(l,o,"GeneratorFunction"),m(s),m(s,o,"Generator"),m(s,r,function(){return this}),m(s,"toString",function(){return"[object Generator]"}),(h=function(){return{w:i,m:d}})()}function m(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}m=function(e,n,t,r){if(n)o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var i=function(n,t){m(e,n,function(e){return this._invoke(n,t,e)})};i("next",0),i("throw",1),i("return",2)}},m(e,n,t,r)}function y(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(r,o)}function E(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){y(i,r,o,a,c,"next",e)}function c(e){y(i,r,o,a,c,"throw",e)}a(void 0)})}}var g=(0,f.A)(function(e){return{header:{display:"inline-block",fontSize:16,marginLeft:8,"& svg":{marginRight:4}},content:{height:"87%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},links:{width:"100%",borderBottom:"1px solid ".concat(e.palette.border.divider)},link:{textAlign:"center",fontSize:28,padding:10,transition:"color ease-in 0.15s","&:hover":{cursor:"pointer",color:function(e){return e.color}}},noRaces:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}});const w=function(){var e=(0,p.dp)("redline"),n=g(e),t=(0,d.Zp)(),f=(0,o.wA)(),m=(0,p.MW)(),y=(0,o.d4)(function(e){return e.data.data.onDuty}),w=(0,o.d4)(function(e){var n;return null===(n=e.data.data.player)||void 0===n||null===(n=n.Profiles)||void 0===n?void 0:n.redline}),k=(0,o.d4)(function(e){return e.race.races}),A=(0,o.d4)(function(e){return e.race.invites}),I=function(){var e=E(h().m(function e(n){var r,o;return h().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,b.A.send("AcceptInvite",n);case 1:return e.n=2,e.v.json();case 2:r=e.v,Boolean(r)?(f({type:"REMOVE_INVITE",payload:{id:n}}),f({type:"I_RACE",payload:{state:!0}}),m("Event Invite Accepted"),t("/apps/redline/view/".concat(n))):m("Unable To Accept Event Invite"),e.n=4;break;case 3:e.p=3,o=e.v,console.error(o),m("Error Accepting Event Invite");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=E(h().m(function e(n){var t,r;return h().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,b.A.send("DeclineInvite",n);case 1:return e.n=2,e.v.json();case 2:t=e.v,Boolean(t)?(f({type:"REMOVE_INVITE",payload:{id:n}}),m("Event Invite Declined")):m("Unable To Decline Event Invite"),e.n=4;break;case 3:e.p=3,r=e.v,console.error(r),m("Error Declining Event Invite");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(n){return e.apply(this,arguments)}}();return r.createElement(v.RT,{appId:"redline",titleOverride:"Redline - Event Invites",actionShow:Boolean(w)&&"police"!=y,actions:r.createElement(r.Fragment,null,r.createElement(i.A,{onClick:function(){return t(-1)}},r.createElement(s.g,{icon:["fas","arrow-left"]})))},r.createElement(r.Fragment,null,r.createElement("div",{className:n.content},A.filter(function(e){return Boolean(k[e.id])}).length>0?r.createElement(a.A,null,A.filter(function(e){return Boolean(k[e.id])}).map(function(e){var n=k[e.id];return r.createElement(c.Ay,null,r.createElement(u.A,{primary:n.name}),r.createElement(l.A,null,r.createElement(i.A,{onClick:function(){return O(e.id)}},r.createElement(s.g,{icon:["fas","x"]})),r.createElement(i.A,{onClick:function(){return I(e.id)}},r.createElement(s.g,{icon:["fas","check"]}))))})):r.createElement("div",{className:n.noRaces},"No Pending Event Invites"))))}}}]);