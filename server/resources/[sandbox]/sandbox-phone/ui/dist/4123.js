"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[4123],{94123:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var r=n(96540),a=n(69733),o=n(62969),c=n(93300),l=n.n(c),i=n(15849),u=n(11641),s=n(89828),d=n(8239),f=n(60538),m=n(49799),p=n(44635),g=n(82241),y=n(46784),v=n(19663),h=n(16783),b=n(47767),E=n(32849),k=n(71544);function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof l?r:l,u=Object.create(i.prototype);return A(u,"_invoke",function(n,r,a){var o,l,i,u=0,s=a||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,l=0,i=e,f.n=n,c}};function m(n,r){for(l=n,i=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],m=f.p,p=o[2];n>3?(a=p===r)&&(i=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(l=0,f.v=r,f.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,l=0))}if(a||n>1)return c;throw d=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),l=s,i=p;(t=l<2?e:i)||!d;){o||(l?l<3?(l>1&&(f.n=-1),m(l,i)):f.n=i:f.v=i);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==c)break}catch(t){o=e,l=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var c={};function l(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(A(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,A(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,A(d,"constructor",u),A(u,"constructor",i),i.displayName="GeneratorFunction",A(u,a,"GeneratorFunction"),A(d),A(d,a,"Generator"),A(d,r,function(){return this}),A(d,"toString",function(){return"[object Generator]"}),(w=function(){return{w:o,m:f}})()}function A(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}A=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){A(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},A(e,t,n,r)}function S(e,t,n,r,a,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}var T=(0,o.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},subheader:{background:function(e){return(0,v.A)(e.color).darken(3)},fontSize:14,padding:15,lineHeight:"25px",height:48},content:{padding:10,height:"92%",overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:"#1de9b6"},"&::-webkit-scrollbar-track":{background:"transparent"}},section:{padding:10,"&:not(:last-of-type)":{marginBottom:15},"& h3":{borderBottom:function(e){return"1px solid ".concat(e.color)}}},status:{color:e.palette.success.main,"&::before":{content:'" - "',color:e.palette.text.main},"&.spawned":{color:e.palette.error.main}}}});const N=function(e){var t,n,o,c=(0,E.dp)("garage"),v=T(c),A=((0,a.wA)(),(0,b.Zp)()),N=(0,E.MW)(),x=(0,b.g)().vin,O=(0,a.d4)(function(e){return e.data.data.garages}),P=(0,a.d4)(function(e){return e.data.data.myVehicles}).filter(function(e){return e.VIN==x})[0];(0,r.useEffect)(function(){Boolean(P)||A("/apps/garage",{replace:!0})},[P]);var j=function(){var e;switch(null==P||null===(e=P.Storage)||void 0===e?void 0:e.Type){case 0:return O.impound;case 1:return O[P.Storage.Id];case 2:return P.PropertyStorage}}(),G=function(){var e,t=(e=w().m(function e(){var t,n;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,h.A.send("Garage:TrackVehicle",x);case 1:return e.n=2,e.v.json();case 2:t=e.v,N(t?"Vehicle Marked on GPS":"Unable To Mark Vehicle"),e.n=4;break;case 3:e.p=3,n=e.v,console.error(n),N("Unable To Mark Vehicle");case 4:return e.a(2)}},e,null,[[0,3]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){S(o,r,a,c,l,"next",e)}function l(e){S(o,r,a,c,l,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}();if(!Boolean(P))return null;var M=function(e){var t=Math.ceil((null!=e?e:1e3)/1e3*100);switch(!0){case t>=90:return"Excellent";case t>=70&&t<90:return"Good";case t>=50&&t<70:return"Fair";case t>=30&&t<50:return"Needs Work";case t<30:return"You're fucked";default:return"Unknown"}},V=function(e){var t=Math.ceil(e);switch(!0){case t>=90:return"Excellent";case t>=70&&t<90:return"Good";case t>=50&&t<70:return"Fair";case t>=30&&t<50:return"Needs Work";case t<30:return"You're fucked";default:return"Unknown"}};return r.createElement(k.RT,{appId:"garage",titleOverride:"".concat(P.Make," ").concat(P.Model),actions:r.createElement(r.Fragment,null,r.createElement(i.A,{title:"Route To Vehicle"},r.createElement("span",null,r.createElement(u.A,{onClick:G},r.createElement(y.g,{icon:["fas","location-crosshairs"]})))))},r.createElement(s.A,{position:"static",className:v.subheader},r.createElement(d.Ay,{container:!0,style:{textAlign:"center"}},r.createElement(d.Ay,{item:!0,xs:6},"VIN: ",P.VIN),r.createElement(d.Ay,{item:!0,xs:6},"Plate: ",P.RegisteredPlate))),r.createElement("div",{className:v.content},r.createElement(f.A,{className:v.section},r.createElement("h3",null,"Storage"),r.createElement("div",null,null!==(t=null==j?void 0:j.label)&&void 0!==t?t:"Unknown",Boolean(P.Spawned)?r.createElement("span",{className:"".concat(v.status," spawned")},"Out"):r.createElement("span",{className:v.status},0==P.Storage.Type?"In Impound":"In Garage"),0==P.Storage.Type&&r.createElement(m.A,{className:v.data},r.createElement(p.Ay,null,r.createElement(g.A,{primary:"Fine",secondary:"$".concat(P.Storage.Fine)})),Boolean(P.Storage.TimeHold)&&r.createElement(p.Ay,null,r.createElement(g.A,{primary:"Hold Release",secondary:r.createElement(l(),{className:v.postedTime,interval:1e3,fromNow:!0,date:1e3*+P.Storage.TimeHold.ExpiresAt})}))))),r.createElement(f.A,{className:v.section},r.createElement("h3",null,"Diagnostics"),r.createElement("div",null,r.createElement(m.A,{className:v.data},r.createElement(p.Ay,null,r.createElement(g.A,{primary:"Mileage",secondary:"".concat(P.Mileage," Miles")})),r.createElement(p.Ay,null,r.createElement(g.A,{primary:"Body",secondary:M(null===(n=P.Damage)||void 0===n?void 0:n.Body)})),r.createElement(p.Ay,null,r.createElement(g.A,{primary:"Engine",secondary:M(null===(o=P.Damage)||void 0===o?void 0:o.Engine)})),P.DamagedParts&&Object.keys(P.DamagedParts).map(function(e){return r.createElement(p.Ay,{key:e},r.createElement(g.A,{primary:e.split(/(?<=[a-z])(?=[A-Z])|(?<=[A-Z])(?=[A-Z][a-z])/g).join(" "),secondary:V(P.DamagedParts[e])}))}))))))}}}]);